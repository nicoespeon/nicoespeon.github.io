{"data":{"site":{"siteMetadata":{"title":"@nicoespeon's blog","subtitles":{"en":"I write about web development, agile practices and personal organization.","fr":"J‚Äô√©cris sur le d√©veloppement web, les pratiques agiles et l‚Äôorganisation personnelle."},"author":{"name":"Nicolas Carlo","twitter":"nicoespeon"},"disqusShortname":"nicoespeon","url":"https://www.nicoespeon.com"}},"markdownRemark":{"id":"005d5b4d-fe7c-5277-ba73-6bd42c6d5145","html":"<p>Hello there üëã</p>\n<p>Refactoring code. Changing the way code is written, without breaking it. This is something I do constantly. I do it for many reasons, usually as preparatory work for further changes.</p>\n<p>Today, I want to share with you the refactorings I use every day!</p>\n<p>Because I apply these refactorings so often, I need them to be fast and reliable. Being a VS Code user, I developed an Extension to automate the refactorings for me, in an intuitive way. I called this extension <a href=\"http://bit.ly/vscode-abracadabra\">Abracadabra</a>. The following examples will use the extension to illustrate, but refactorings can be done by hand too, regardless of the language you‚Äôre working with.</p>\n<h2 id=\"extract-variable\"><a href=\"#extract-variable\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extract Variable</h2>\n<p>This is certainly the most frequent refactoring I do! Extract things into variables allows me to name the concepts and make the code easier to read.</p>\n<p>When concepts are named, they can be reused. This is a solution to prevent logic duplication.</p>\n<p>To extract any variable, I put my cursor on the variable and hit Abracadabra default shortcut: <code class=\"language-text\">‚åò ‚å• V</code> (<code class=\"language-text\">Ctrl Alt V</code> if you‚Äôre not on Mac).</p>\n<p><img src=\"/extract-variable-partial-ff7a70954a50b63ddea5bceb419d8c23.gif\" alt=\"extract-variable-partial\"></p>\n<p>Since it works wherever my cursor is inside the variable I want to extract, it‚Äôs quite convenient to use. I simply have to <em>think</em> about extracting this thing into a variable, and here I am, naming this.</p>\n<p>It also detects when there are multiple occurrences, so I can remove the duplication in the same shot!</p>\n<p><img src=\"/extract-variable-multiple-occurrences-620f4382c2cccc6d4fab1c2e6484bda5.gif\" alt=\"extract-variable-multiple-occurrences\"></p>\n<h2 id=\"inline-variable\"><a href=\"#inline-variable\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Inline Variable</h2>\n<p>The opposite refactoring. They go in pairs.</p>\n<p>Sometimes, a variable is not reused and its name doesn‚Äôt bring much value. If I can‚Äôt find a better name, then inlining it is an option I‚Äôd consider.</p>\n<p>The typical scenario is temporary, intermediate variables. They often have poor names. They might have been valid before, but after some other refactorings they have become unnecessary and they just add noise.</p>\n<p>In that situation, I put my cursor somewhere in the variable I want to inline. Then I press <code class=\"language-text\">‚åò ‚å• N</code>\u001f (<code class=\"language-text\">Ctrl Alt N</code> if not on a Mac) and it gets inlined for me:</p>\n<p><img src=\"/inline-variable-174d3ed9c60eb1f3e0b4ad40f7d53862.gif\" alt=\"inline-variable\"></p>\n<h2 id=\"rename-symbol\"><a href=\"#rename-symbol\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rename Symbol</h2>\n<p>This one is a classic.</p>\n<p>Actually, it‚Äôs a first-class refactoring in VS Code. The editor does it pretty well: I simply put my cursor on a symbol (like a variable name) and press <code class=\"language-text\">F2</code>. That makes me enter ‚Äúrename mode‚Äù. Enter a better name, press enter and the editor will rename all references to that symbol.</p>\n<p>It‚Äôs faster and more reliable than renaming using search and replace.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/rename-8efeaf79c20007ad62aa30d5fcbdc500-60448.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 702px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.034188034188034%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAABJ0AAASdAHeZh94AAABF0lEQVQY022R207DMAyG+x40ieM4x7XpeV0PDAYTmgTiAXj/ByEdN2jbr0+2b+zfsrNxHLz3AGCtJdJKbWzFFSJzjVprc0+mNUkkqYzZlaiUddp7S6lIkHIbhKg4F0LADZngDHSwcWiWkwvFNNXrcV8GdyjdHMMc/RiDcy7Pc36nDBEFILgyNzsJTGvUWgnOWZ6Lq92f+CNlUkrOwfTH5fvndHr5uJzXdWnarqwaVJQMWVKaldjyXbNE6Qv3/Dotb+s4H4qhqfrUXIEiQCVTFAIBUMqbFTKWP83vl/PnVx1d603nqev6sm66yvdNHdq9b4f0gGioCF4p+u+fpak2lLsYrUlvwXThwlDy0WkdrSQAY9upHq79C18zRpI9o1N3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"rename\"\n        title=\"\"\n        src=\"/static/rename-8efeaf79c20007ad62aa30d5fcbdc500-60448.png\"\n        srcset=\"/static/rename-8efeaf79c20007ad62aa30d5fcbdc500-2fc1b.png 240w,\n/static/rename-8efeaf79c20007ad62aa30d5fcbdc500-28ccd.png 480w,\n/static/rename-8efeaf79c20007ad62aa30d5fcbdc500-60448.png 702w\"\n        sizes=\"(max-width: 702px) 100vw, 702px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"convert-to-template-literal\"><a href=\"#convert-to-template-literal\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Convert To Template Literal</h2>\n<p>This one is specific to JavaScript.</p>\n<p>So, it turns out I frequently need to convert a regular string into a template, so I can put variables in it. However, I find the backtick symbol a bit annoying to use with my keyboard‚Äîwhich is a <a href=\"https://ccm.net/faq/32759-bepo-a-keyboard-layout-optimized-for-the-french-language\">b√©po one, optimized for the French language</a>. I need to press the key twice to enter the symbol, otherwise, it might merge it with the next letter. Thus, I‚Äôm glad I can trigger the conversion with a simple shortcut!</p>\n<p>With Abracadabra, whenever my cursor is on a string, VS Code shows me a little bulb icon üí°. That‚Äôs a <a href=\"https://code.visualstudio.com/docs/editor/refactoring#_code-actions-quick-fixes-and-refactorings\">Code Action, commonly known as ‚ÄúQuick Fix‚Äù</a>. It works because Abracadabra detects that a refactoring can be made here. The Quick Fix is a shortcut to execute that refactoring!</p>\n<p>I recommend you to <strong>put a shortcut that‚Äôs easy for you to trigger Quick Fixes</strong>, so you don‚Äôt have to aim and click on the lightbulb. To do so, look for the <code class=\"language-text\">editor.action.quickFix</code> command in your VS Code keycap configuration. I put <code class=\"language-text\">‚å• Enter</code> because I was used to this shortcut with Webstorm. The habits stuck when I moved to VS Code.</p>\n<p><img src=\"/convert-to-template-literal-ec6717cdc3332955c3b9204d186ee5d3.gif\" alt=\"convert-to-template-literal\"></p>\n<p>By the way: it also works on any part of a concatenated string. This is useful when I update some old code that didn‚Äôt use template strings.</p>\n<h2 id=\"remove-redundant-else\"><a href=\"#remove-redundant-else\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Remove Redundant Else</h2>\n<p>Finally, I use this refactoring when I want to unnest some code logic, to make it more readable. I prefer to use <a href=\"https://refactoring.guru/replace-nested-conditional-with-guard-clauses\">guard clauses</a> instead of nested conditionals.</p>\n<p>Again, as a lot of Abracadabra refactorings, it‚Äôs a Quick Fix. This is nice because I only have to care about it when I can perform this refactoring. Looking at a piece of code, the extension tells me what refactorings can be executed. Less cognitive load for me.</p>\n<p><img src=\"/remove-redundant-else-0c0b3c3039426dc739ec547c5d7dd586.gif\" alt=\"remove-redundant-else\"></p>\n<h2 id=\"what-refactorings-do-you-use-every-day\"><a href=\"#what-refactorings-do-you-use-every-day\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What refactorings do <em>you</em> use every day?</h2>\n<p>That‚Äôs it. These are the 5 refactorings I use the most.</p>\n<p>Through these, I wish I was able to illustrate why I developed Abracadabra and how it serves me every day!</p>\n<p>What about you? Do you refactor often? What are the refactorings you do frequently? Did you learn something from this post? Let me know!</p>","fields":{"tagSlugs":["/tags/refactoring/","/tags/vscode/","/tags/abracadabra/","/tags/side-project/"],"slug":"/en/2019/11/5-refactorings-i-use-every-day/"},"timeToRead":4,"frontmatter":{"title":"5 refactorings I use every day","tags":["refactoring","vscode","abracadabra","side-project"],"date":"2019-11-03T00:00:00.000Z","description":"Today, I want to share with you the refactorings I use the most on VS Code!"}}},"pageContext":{"slug":"/en/2019/11/5-refactorings-i-use-every-day/"}}