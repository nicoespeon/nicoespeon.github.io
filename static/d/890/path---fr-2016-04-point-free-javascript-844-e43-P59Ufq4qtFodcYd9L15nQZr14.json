{"data":{"site":{"siteMetadata":{"title":"@nicoespeon's blog","subtitles":{"en":"I write about VS Code, web development and life in general.","fr":"J’écris à propos de VS Code, du développement web et de la vie en général."},"author":{"name":"Nicolas Carlo","bluesky":"nicoespeon"},"url":"https://www.nicoespeon.com"}},"markdownRemark":{"id":"492dd0ec-c0ce-5383-b417-14f361129a0b","html":"<figure>\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/cover-95c660e69742bc8890aa1bd334939a35-667be.jpeg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.40625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFW1TjUUhX/xAAaEAACAgMAAAAAAAAAAAAAAAAAAQMSESIy/9oACAEBAAEFAlqWyMl6RE3X/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABYRAQEBAAAAAAAAAAAAAAAAAAAREv/aAAgBAgEBPwGtP//EABUQAQEAAAAAAAAAAAAAAAAAABAB/9oACAEBAAY/Amv/xAAbEAACAwADAAAAAAAAAAAAAAAAAREhQTFhof/aAAgBAQABPyFJWofY1oJDtM9QznnSdvT/2gAMAwEAAgADAAAAEPMv/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxCzBKf/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EAvUlDl//8QAHBABAAMAAgMAAAAAAAAAAAAAAQARIUFhEDGh/9oACAEBAAE/EC9McDSK2ovqLgL078a7a4QADodfJ//Z&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"cover\" title=\"\" src=\"/static/cover-95c660e69742bc8890aa1bd334939a35-d564d.jpeg\" srcset=\"/static/cover-95c660e69742bc8890aa1bd334939a35-865fd.jpeg 240w,\n/static/cover-95c660e69742bc8890aa1bd334939a35-d40a0.jpeg 480w,\n/static/cover-95c660e69742bc8890aa1bd334939a35-d564d.jpeg 960w,\n/static/cover-95c660e69742bc8890aa1bd334939a35-c67c1.jpeg 1440w,\n/static/cover-95c660e69742bc8890aa1bd334939a35-667be.jpeg 1920w\" sizes=\"(max-width: 960px) 100vw, 960px\">\n    </span>\n  </span>\n  \n  </a>\n    \n  <figcaption>Faire converger les fonctions pour aller vers la simplicit&#xE9;.</figcaption>\n</figure>\n<h2 id=\"le-contexte\"><a href=\"#le-contexte\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Le contexte</h2>\n<p>Je travaille sur un side-project qui est surtout un prétexte pour moi de pratiquer une approche plus fonctionnelle de JavaScript. En l’occurrence, ici je m’amuse surtout avec ES6, <a href=\"http://cycle.js.org/\">Cycle.js</a> et <a href=\"http://ramdajs.com/\">Ramda</a>.</p>\n<p>Ainsi, j’en profite pour pratiquer la programmation de style <em>point-free</em>, aka <em>tacit programming</em>, lorsque c’est pertinent.</p>\n<p>Pour résumer l’idée : cela veut dire que <a href=\"https://github.com/MostlyAdequate/mostly-adequate-guide/blob/master/ch5.md#pointfree\">qu’il n’est pas nécessaire d’expliciter nos données</a>. Lorsqu’elle est utilisée avec sagesse, cette technique permet de conserver un code clair et concis en supprimant les inutiles déclarations de variables intermédiaires. Voyez plutôt :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// From https://github.com/MostlyAdequate/mostly-adequate-guide/blob/master/ch5.md#pointfree</span>\n\n<span class=\"token comment\">// Not point-free because we mention the data: name</span>\n<span class=\"token keyword\">let</span> <span class=\"token function-variable function\">initials</span> <span class=\"token operator\">=</span> name <span class=\"token operator\">=></span>\n  name\n    <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>toUpperCase<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'. '</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Point-free style</span>\n<span class=\"token keyword\">let</span> initials <span class=\"token operator\">=</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'. '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>toUpperCase<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">initials</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hunter stockton thompson'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 'H. S. T'</span></code></pre></div>\n<p>Mais je me suis retrouvé dans une situation qui pourra vous sembler familière si vous vous essayez, comme moi, à ce style de programmation.</p>\n<h2 id=\"le-problème\"><a href=\"#le-probl%C3%A8me\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Le problème</h2>\n<p>J’ai une fonction <code class=\"language-text\">daysSpent</code> qui prend une <code class=\"language-text\">Date</code>, une autre <code class=\"language-text\">Date</code> et qui me retourne le <code class=\"language-text\">Number</code> de jours qui se sont écoulés entre elles.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">daysSpent : Date -&gt; Date -&gt; Number</code></pre></div>\n<p>Puis, j’ai une list d’éléments où chacun dispose d’un attribut date :</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Backlog\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-01\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Card Preparation [2]\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-01\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Production [3]\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-02\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Tests QA [2]\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-05\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Mise en live [1]\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-05\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"In Production\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-06\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"list\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Live (April 2016)\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2016-04-08\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Ce que je souhaite consiste à calculer le nombre de jours passés entre le premier et le dernier élément de ma liste (ce qui s’appelle le <em>Lead Time</em> dans mon contexte).</p>\n<p>Bon et bien j’y suis presque. J’ai certainement besoin de me servir de ma fonction <code class=\"language-text\">daysSpent</code>. Le soucis c’est que le format n’est pas tout à fait adapté. En utilisant Ramda, je suppose qu’une approche naive au problème ressemblerait à ceci :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> pipe<span class=\"token punctuation\">,</span> prop<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">,</span> last <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ramda'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> daysSpent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/dates'</span>\n\n<span class=\"token comment\">// leadTime : [{date: Date}] -> Number</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">leadTime</span> <span class=\"token operator\">=</span> items <span class=\"token operator\">=></span>\n  <span class=\"token function\">daysSpent</span><span class=\"token punctuation\">(</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>last<span class=\"token punctuation\">,</span> <span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ça fonctionne c’est sûr… mais quelque chose ne sonne pas très juste ici.</p>\n<p>Je suis forcé de déclarer <code class=\"language-text\">items</code> et de le balader partout parce-que j’ai besoin de le transformer de différentes manières avant de pouvoir le traiter. Je ne peux pas faire s’écouler naturellement <code class=\"language-text\">items</code> le long d’une composition de fonctions car je dois le faire diverger afin de respecter l’arité de<code class=\"language-text\">daysSpent</code>.</p>\n<p>C’était une problématique assez récurrente… que Ramda résout !</p>\n<h2 id=\"rconverge-à-la-rescousse\"><a href=\"#rconverge-%C3%A0-la-rescousse\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>R.converge à la rescousse</h2>\n<p>Voilà le topo :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// What I ended up with</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getX</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token function\">getY</span><span class=\"token punctuation\">(</span><span class=\"token function\">parseA</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">parseB</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// What I was trying to achieve, some sort of:</span>\n<span class=\"token keyword\">const</span> getX <span class=\"token operator\">=</span> <span class=\"token function\">anyFunction</span><span class=\"token punctuation\">(</span><span class=\"token function\">getY</span><span class=\"token punctuation\">(</span>parseA<span class=\"token punctuation\">,</span> parseB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Parmi la trousse à outils de Ramda, il y a une fonction qui fait exactement ça : <a href=\"http://ramdajs.com/0.19.1/docs/#converge\">R.converge</a>. La syntaxe est la suivante :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> getX <span class=\"token operator\">=</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">converge</span><span class=\"token punctuation\">(</span>getY<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>parseA<span class=\"token punctuation\">,</span> parseB<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Tadaaaaam :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> converge<span class=\"token punctuation\">,</span> pipe<span class=\"token punctuation\">,</span> prop<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">,</span> last <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ramda'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> daysSpent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/dates'</span>\n\n<span class=\"token comment\">// leadTime : [{date: Date}] -> Number</span>\n<span class=\"token keyword\">const</span> leadTime <span class=\"token operator\">=</span> <span class=\"token function\">converge</span><span class=\"token punctuation\">(</span>daysSpent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> <span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>last<span class=\"token punctuation\">,</span> <span class=\"token function\">prop</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ceci va appeler <code class=\"language-text\">daysSpent</code> avec les arguments attendus à partir de l’input. Plus besoin de déclarer ce dernier avec une variable, je peux me concentrer sur les opérations.</p>\n<p>D’ailleurs, le refactor est encore plus simple:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> pipe<span class=\"token punctuation\">,</span> pluck<span class=\"token punctuation\">,</span> converge<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">,</span> last <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ramda'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> daysSpent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/dates'</span>\n\n<span class=\"token comment\">// leadTime : [{date: Date}] -> Number</span>\n<span class=\"token keyword\">const</span> leadTime <span class=\"token operator\">=</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">pluck</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// first convert input into [Date]</span>\n  <span class=\"token function\">converge</span><span class=\"token punctuation\">(</span>daysSpent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>head<span class=\"token punctuation\">,</span> last<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// then pick proper ones for calculation</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">leadTime</code> <code class=\"language-text\">pluck</code> les <code class=\"language-text\">date</code>s de input, puis<code class=\"language-text\">converge</code> le <code class=\"language-text\">head</code> et <code class=\"language-text\">last</code> de la liste dans<code class=\"language-text\">daysSpent</code> pour déterminer le résultat. Je trouve qu’il y a de la beauté dans une telle simplicité.</p>\n<p>Oh et si vous êtes plutôt du genre <a href=\"https://lodash.com/\">lodash</a> (ce qui est mon cas, mais j’ai toujours voulu voir ce que Ramda avait dans le ventre), <a href=\"https://github.com/lodash/lodash/wiki/FP-Guide\">lodash-fp</a> fait également du bon boulot. <a href=\"https://medium.com/@jdalton\">John-David Dalton</a> suggère une approche différente :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> pipe<span class=\"token punctuation\">,</span> pluck<span class=\"token punctuation\">,</span> over<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">,</span> last<span class=\"token punctuation\">,</span> spread <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash/fp'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> daysSpent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils/dates'</span>\n\n<span class=\"token comment\">// leadTime : [{date: Date}] -> Number</span>\n<span class=\"token keyword\">const</span> leadTime <span class=\"token operator\">=</span> <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">pluck</span><span class=\"token punctuation\">(</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// first convert input into [Date]</span>\n  <span class=\"token function\">over</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>head<span class=\"token punctuation\">,</span> last<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// then turns them to our arguments array [ FirstDate, LastDate ]</span>\n  <span class=\"token function\">spread</span><span class=\"token punctuation\">(</span>daysSpent<span class=\"token punctuation\">)</span> <span class=\"token comment\">// finally spread arguments to the function</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<hr>\n<p>Si vous souhaitez explorer le sujet en profondeur :</p>\n<ul>\n<li>Un article sur le <a href=\"http://lucasmreis.github.io/blog/pointfree-javascript/\">point-free JavaScript</a></li>\n<li><a href=\"http://cycle.js.org/getting-started.html\">Get started</a> avec Cycle.js</li>\n<li><a href=\"http://fr.umio.us/the-philosophy-of-ramda/\">The philosophy of Ramda</a> − même si lodash-fp fait du bon travail en pratique aujourd’hui, Ramda se combine parfaitement avec les concepts de programmation fonctionnelle</li>\n</ul>","fields":{"tagSlugs":["/fr/tags/programmation-fonctionnelle/","/fr/tags/lodash/","/fr/tags/ramda/"],"slug":"/fr/2016/04/point-free-javascript/"},"timeToRead":4,"frontmatter":{"title":"Point-free JavaScript avec R.converge / _.over","tags":["programmation fonctionnelle","lodash","ramda"],"date":"2016-04-12T00:00:00.000Z","description":"Mes retours sur une pratique plus fonctionnelle de JavaScript."}}},"pageContext":{"slug":"/fr/2016/04/point-free-javascript/"}}