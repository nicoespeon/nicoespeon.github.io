{"data":{"site":{"siteMetadata":{"title":"@nicoespeon's blog","subtitles":{"en":"I write about web development, agile practices and personal organization.","fr":"J’écris sur le développement web, les pratiques agiles et l’organisation personnelle."},"author":{"name":"Nicolas Carlo","twitter":"nicoespeon"},"disqusShortname":"nicoespeon","url":"http://www.nicoespeon.com"}},"markdownRemark":{"id":"9cb89e26-d940-5f23-8868-8776f534e973","html":"<h2 id=\"note-sur-la-compatibilité\"><a href=\"#note-sur-la-compatibilit%C3%A9\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Note sur la compatibilité</h2>\n<p>Ce qui suit se base sur l’utilisation de Jekyll <code class=\"language-text\">v0.12.1</code>.</p>\n<p>Pour Jekyll <code class=\"language-text\">v1.5</code>, allez jeter un oeil à <a href=\"/fr/2014/04/blog-multilingue-avec-jekyll-1-5\">celui d’Avril 2014</a>.</p>\n<p>Veuillez noter que des changements majeurs sont survenus lors du passage à la <code class=\"language-text\">v1.0.0</code>, rendant certaines de ces astuces non compatibles (je pense surtout aux plugins). Je rédigerai un nouvel article lorsque je mettrais à jour mon propre Jekyll à une version v1.0+.</p>\n<p>Si vous le souhaitez, vous pouvez toujours installer une ancienne version de Jekyll avec la commande suivante :</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Installe l'ancienne version de jekyll</span>\n$ <span class=\"token function\">sudo</span> gem <span class=\"token function\">install</span> jekyll --version 0.12.1\n\n<span class=\"token comment\"># Désinstalle la version actuelle si vous l'avez téléchargée</span>\n$ <span class=\"token function\">sudo</span> gem uninstall jekyll --version <span class=\"token operator\">&lt;</span>your current version<span class=\"token operator\">></span></code></pre></div>\n<h2 id=\"petit-retour-sur-jekyll\"><a href=\"#petit-retour-sur-jekyll\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Petit retour sur Jekyll</h2>\n<p>J’ai commencé ce blog avec <a href=\"%7B%25%20post_url%202013-04-07-faire-son-blog-avec-jekyll%20%25%7D\">un article présentant Jekyll</a> et ce qui m’avait amené à ce choix.</p>\n<p>Pour résumer l’intérêt de ce “générateur de site dynamique” par rapport à un CMS tout prêt tel que Wordpress, j’avais avancé les points suivants :</p>\n<ul>\n<li>\n<p><strong>Pas besoin/envie de m’embêter avec une BDD</strong>. Restons simple et faisons du front-end.</p>\n</li>\n<li>\n<p><strong>Pouvoir mettre mon site à jour quand je push sur Github</strong>. J’aurais évidemment pu mettre en place des hooks pour reproduire le même comportement sur un serveur, mais c’est totalement inutile grâce à Jekyll et <a href=\"https://help.github.com/categories/20/articles\">Github Pages</a>.</p>\n</li>\n<li>\n<p><strong>Suivre les dernières tendances en matière de développement web</strong>. L’expérience Jekyll me paraissait donc tentante, j’ai succombé.</p>\n</li>\n</ul>\n<p>Simplement, Jekyll est adapté pour du blogging… mais du blogging en anglais (et voui). Par défaut, il n’est donc pas vraiment optimisé pour le français et encore moins pour créer un blog multilingue.</p>\n<p>Bien entendu, c’est tout à fait possible si l’on sait ruser et mettre un peu les mains dans le cambouis. Je me propose donc ici de vous expliquer les quelques étapes dont vous aurez besoin si vous souhaitez pouvoir blogger dans 2 langues, ou plus.</p>\n<h2 id=\"do-you-parler-français-\"><a href=\"#do-you-parler-fran%C3%A7ais-\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Do you parler Français ?</h2>\n<p>Le meilleur exemple de la nature <em>english oriented</em> de Jekyll est certainement <a href=\"http://liquid.rubyforge.org/classes/Liquid/StandardFilters.html#M000012\">le filtre Liquid <code class=\"language-text\">date</code></a>. Ce dernier permet de retourner très simplement la date de publication d’un post, par exemple, mais dans le format anglais ! Certes, si vous vous contentez des chiffres ça passera sans problème. En revanche ça risque de faire tâche d’avoir des <code class=\"language-text\">19 April, 2013</code> qui trainent un peu partout sur votre blog francophone.</p>\n<p>Le deuxième soucis majeur se pose lorsque vous souhaitez <strong>distinguer les articles en fonction de leur langue</strong>, pour proposer 2 pages d’index différentes par exemple. La bonne idée qui vous vient, c’est naturellement de créer une catégorie par langue. Mais le <code class=\"language-text\">paginator</code> Jekyll, qui vous permet d’afficher le listing paginé des posts de votre site, n’a pas été créé pour gérer les catégories. Cela pose un léger soucis puisque vous allez vous retrouver à choisir entre :</p>\n<ol>\n<li>Tous les posts d’une catégorie, listés sur une seule page</li>\n<li>Un listing de X posts par page, toutes catégories (langues) confondues</li>\n</ol>\n<p>Bref, autant d’obstacles qui pimentent un peu le challenge. Voyons comment s’en sortir malgré tout.</p>\n<h3 id=\"parlons-stratégie\"><a href=\"#parlons-strat%C3%A9gie\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parlons stratégie</h3>\n<p>Prenons le problème à l’envers, et définissons ce que nous souhaitons obtenir pour commencer :</p>\n<ul>\n<li>Nous voulons que l’anglais soit la langue par défaut, à la racine de projet.</li>\n<li>Chaque langue représente une catégorie, ce qui peut être aisément retranscrit avec l’architecture des dossiers.</li>\n<li>La partie française doit être accessible à partir de l’URL de base <code class=\"language-text\">/fr</code> (ce qui se goupille pas trop mal avec les précédentes considérations).</li>\n<li>Les articles en anglais doivent être listés uniquement sur <code class=\"language-text\">index.html</code></li>\n<li>Les articles en français doivent être listés uniquement sur <code class=\"language-text\">index.html/fr</code></li>\n<li>La pagination doit gérer la distinction anglais/français.</li>\n<li>Ca doit rester simple !</li>\n</ul>\n<p>Élaborons donc l’architecture de nos fichiers source d’après ce que nous venons de dire :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\n|-- _includes/ # Bouts de codes inclus ailleurs\n|-- _layouts/ # Templates du site\n|-- _plugins/ # Plugins pour surcharger de Jekyll\n|-- assets/ # LESS/CSS, JS, images, …\n|-- fr/ # Categorie FR\n| |-- _posts/ # Articles en français\n| |-- index.html # Pages html en français\n| |-- about.html\n| |-- (…)\n|\n|-- en/ # Catégorie EN\n| |-- _posts/ # Articles en anglais\n|\n|-- index.html # Pages html par défaut (EN)\n|-- about.html\n|-- (…)\n|-- _config.yml # Fichier de configuration de Jekyll</code></pre></div>\n<p>Lorsqu’il est lancé, Jekyll génère le site statique final dans le dossier <code class=\"language-text\">_site/</code>.</p>\n<p><strong>Note</strong> - Personnellement, j’utilise le fichier <code class=\"language-text\">_config.yml</code> pour y mettre des variables qui dépendent de la langue et que je réutilise dans les templates.</p>\n<p>Ce n’est pas <strong>la solution la plus propre</strong> selon moi, mais c’est assez facile à mettre en place et cela fonctionne plutôt bien pour le moment (tant qu’il n’y en a pas trop). Cela changera à l’avenir lorsque je me serais penché sur une manière plus élégante pour faire ça.</p>\n<h2 id=\"les-plugins-en-renfort\"><a href=\"#les-plugins-en-renfort\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Les plugins en renfort</h2>\n<p>Pour résoudre les problèmes que nous avons soulevé plus tôt, j’ai mis en place 2 petits plugins qui vont surcharger le workflow classique de Jekyll pour le plier à notre volonté (c’est qui l’patron ?).</p>\n<h3 id=\"1-pagination-par-categorie\"><a href=\"#1-pagination-par-categorie\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Pagination par categorie</h3>\n<p><a href=\"https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/_plugins/category_pagination.rb\">category_pagination.rb</a> modifie le fonctionnement du <code class=\"language-text\">paginator</code> afin de prendre seulement en compte les articles qui correspondent à la catégorie spécifiée, et ainsi pouvoir distinguer les deux.</p>\n<p>J’ai modifié le plugin original afin de définir l’anglais comme catégorie par défaut à la racine au lien d’afficher tous les <code class=\"language-text\">site.posts</code>.</p>\n<h3 id=\"2-filtre-i18n\"><a href=\"#2-filtre-i18n\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Filtre i18n</h3>\n<p><a href=\"https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/_plugins/i18n_filter.rb\">i18n_filter.rb</a> customise le traitement de <code class=\"language-text\">page.date</code> en fonction de la langue.</p>\n<p>J’ai du ajouter un fichier <a href=\"https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/_locales/fr.yml\">_locales/fr.yml</a> afin de créer la fonction <code class=\"language-text\">localize</code>. Elle fonctionne de la même manière que <code class=\"language-text\">date</code> mais renvoie le format français de la date.</p>\n<h2 id=\"le-point-github\"><a href=\"#le-point-github\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Le point Github</h2>\n<p>Les plugins sont installés, les templates sont élaborés, le design est mis en place, le git flow est prêt ainsi que le dépôt sur Github… <em>Pushons joyeusement !</em></p>\n<p>Je constate que <a href=\"https://help.github.com/articles/setting-up-a-custom-domain-with-pages\">la redirection DNS de mon domaine perso</a> fonctionne à merveille mais… erf. Le résultat n’est vraiment pas celui attendu !</p>\n<p>Yep, pour ceux qui l’auraient remarqué tout comme moi à ce moment là, Github lance Jekyll en mode <code class=\"language-text\">--safe</code>, ce qui veut dire que <strong>les plugins sont désactivés</strong>.</p>\n<p>Au revoir pagination par catégorie et filtre i18n.</p>\n<h3 id=\"a-chaque-problème-sa-solution-\"><a href=\"#a-chaque-probl%C3%A8me-sa-solution-\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A chaque problème, sa solution …</h3>\n<p>… et Google votre meilleur ami.</p>\n<p><a href=\"http://charliepark.org/jekyll-with-plugins/\">J’ai pu trouver l’inspiration</a> pour redéfinir mon workflow git et contourner ce nouveau problème en ce qui me concerne. C’est ce que je vous propose très concrètement ci-dessous.</p>\n<h3 id=\"un-petit-retour-sur-le-workflow-et-les-branches\"><a href=\"#un-petit-retour-sur-le-workflow-et-les-branches\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Un petit retour sur le workflow et les branches</h3>\n<p>Nous allons considérer que notre workflow comporte 2 branches distinctes :</p>\n<ol>\n<li>\n<p>La branche <code class=\"language-text\">master</code>, qui correspond au site final compilé. Il est généré par Jekyll dans le dossier <code class=\"language-text\">_site/</code> lors de la compilation et Github peut très bien héberger directement un site statique avec l’ajout <a href=\"https://github.com/nicoespeon/nicoespeon.github.io/blob/master/.nojekyll\">d’un fichier <code class=\"language-text\">.nojekyll</code></a>.</p>\n</li>\n<li>\n<p>La branche <code class=\"language-text\">develop</code>, qui correspond aux fichiers sources puisque nous avons besoin de les versionner. Ces fichiers seront compilés par Jekyll lors du déploiement, afin de commiter le rendu sur la branche <code class=\"language-text\">master</code>.</p>\n</li>\n</ol>\n<p>Il n’y a pas de merge de <code class=\"language-text\">develop</code> dans <code class=\"language-text\">master</code> avec ce workflow. Il s’agit de deux branches évoluant en parallèle avec une version source du code pour l’une, et compilée pour l’autre.</p>\n<p>Le déploiement consiste à compiler le code source de la branche de développement (<code class=\"language-text\">develop</code>) et à venir committer ces changements sur la branche de production (<code class=\"language-text\">master</code>).</p>\n<h3 id=\"deux-branches-parallèles-wtf-\"><a href=\"#deux-branches-parall%C3%A8les-wtf-\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deux branches parallèles WTF ?</h3>\n<p>Bien que cela sorte de la vision classique des branchements aka <em>“tout le modèle de branches part d’un ancêtre commun”</em>, Git permet également de créer de nouvelles branches n’ayant pas d’ancêtre commun avec le commit sur lequel nous nous trouvons. Un peu comme un nouveau projet dans le projet.</p>\n<p>C’est ce que l’on appelle <strong>des branches orphelines</strong>.</p>\n<p>Pour créer une telle branche, c’est très simple :</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ git checkout --orphan &lt;new branch&gt;</code></pre></div>\n<p>Dans notre cas, considérons donc que notre branche initiale (par défaut) soit <code class=\"language-text\">develop</code>. Il s’agit donc de créer une branche <code class=\"language-text\">master</code> depuis cette branche afin d’y versionner la version compilée de notre site :</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">$ git checkout --orphan master</code></pre></div>\n<p>Il suffit donc de considérer cette branche comme une version alternative de votre code.</p>\n<p>Supprimez tout ce qui n’a rien à y faire (les fichiers sources) et faîtes en sorte d’y versionner le code final, compilé (celui qui se trouve normalement dans le répertoire <code class=\"language-text\">_site/</code> du code source).</p>\n<p>En ce qui me concerne, j’avais déjà pushé les premiers commits quand je me suis rendu compte de mon erreur. Mon workflow initial se basait sur des merge de <code>develop</code> dans <code>master</code>.</p>\n<p>Mais plutôt que de recréer l’ensemble du dépôt et de rebaser tout ça, j’ai décidé de conserver cet historique en corrigeant le tir avec quelques commits. Il n’y a pas à rougir de faire des erreurs après tout, c’est ainsi qu’on apprend.</p>\n<h3 id=\"déployer-comme-un-prince\"><a href=\"#d%C3%A9ployer-comme-un-prince\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Déployer comme un prince</h3>\n<p>L’idée de base à présent, c’est de travailler sur vos fichiers sources dans <code class=\"language-text\">develop</code>. Puis, il faut que vous compiliez votre code, que vous changiez de branche, supprimiez ce qui n’a rien à faire là et ne conserviez que le code du site compilé final. La manière de procéder pour en arriver là est à votre entière disposition, tout dépend de votre façon de fonctionner.</p>\n<p>Pour ma part, j’ai 2 solutions à vous proposer pour vous permettre de déployer tout ça plus facilement (= sans avoir à vous taper le process à la main) :</p>\n<ol>\n<li>\n<p>Vous vous faîtes un petit script de build qui vous permet de faire tout ça en une ligne de commande. C’est le cas de <a href=\"https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/Makefile\">mon Makefile</a> qui me permet de déployer en lançant un simple <code class=\"language-text\">make deploy</code> dans mon terminal. Libre à moi de pusher ensuite.</p>\n</li>\n<li>\n<p>Vous pouvez aller jeter un oeil à <a href=\"https://github.com/prost87/git-publish-pages\">git publish</a> qui est un script que vous pouvez rajouter à Git et qui vous permettra de déployer des sites Jekyll avec ce workflow justement (quand on vous dit que d’autres y ont pensé avant vous).</p>\n</li>\n</ol>\n<h2 id=\"et-voilà-\"><a href=\"#et-voil%C3%A0-\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Et voilà !</h2>\n<p>Nous y voilà, cela devrait fonctionner parfaitement à présent. Avec ces petits conseils vous devriez être en mesure de faire votre blog Jekyll, hébergé sur Github et multilingue <em>\\o/</em></p>\n<p>Comme d’habitude, nhésitez pas à émettre commentaires, suggestions, remarques et autres questions qui vous trotteraient dans la tête, si besoin, ci-dessous.</p>\n<p>Plop !</p>","fields":{"tagSlugs":["/fr/tags/jekyll/","/fr/tags/i-18-n/"]},"frontmatter":{"title":"Faire un blog multilingue avec Jekyll","tags":["jekyll","i18n"],"date":"2013-05-29T00:00:00.000Z","description":"Un petit état des lieux des choses à savoir et des astuces que je peux vous donner pour réaliser un blog multilingue avec Jekyll."}}},"pageContext":{"slug":"/fr/2013/05/faire-blog-multilingue-avec-jekyll/"}}