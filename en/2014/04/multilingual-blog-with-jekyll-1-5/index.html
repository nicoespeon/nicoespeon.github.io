<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, minimum-scale=1.0"><meta name="description" content="What changed with Jekyll v1.5.1 if you want to build a multilingual blog."><meta property="og:site_name" content="@nicoespeon's blog" /><meta property="og:url" content="http://www.nicoespeon.com/en/2014/04/multilingual-blog-with-jekyll-1-5/" /><meta property="og:type" content="article" /><meta property="og:title" content="Multilingual blog with Jekyll 1.5 | @nicoespeon" /><meta property="og:description" content="What changed with Jekyll v1.5.1 if you want to build a multilingual blog." /><meta property="og:image" content="https://fr.gravatar.com/userimage/27601663/eb6a327f57a4931bfdf6c213af65ed2d.jpg?size=300" /><title>Multilingual blog with Jekyll 1.5 | @nicoespeon</title><link rel="icon" href="/assets/img/icon.png"><link rel="author" href="https://plus.google.com/u/0/108378377887967941980"><!-- DNS prefetch for external resources --><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//platform.twitter.com"><link rel="dns-prefetch" href="//p.twitter.com"><link rel="dns-prefetch" href="//cdn.api.twitter.com"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="stylesheet"href='http://fonts.googleapis.com/css?family=Snippet|Roboto:300,100,700'><link rel="stylesheet" href="/assets/css/nicoespeon.css" media="screen"><link rel="stylesheet" href="/assets/css/nicoespeon-print.css" media="print"></head><body><div id="site"><div class="container"><div class="grid"><div class="grid__item seven-tenths portable-one-whole" role="main"><header class="media" role="banner"><!-- Brand logo --><img src="http://www.gravatar.com/avatar/46978c87c5c75cea5d05a61fa8b7d95b" class="media__img img--circle" alt="My avatar" width="80" height="80"/><!-- Main navigation --><nav class="media__body" role="navigation"><ul class="nav nav--main"><li><a href="/index.html">Home</a></li><li><a href="/about.html">About</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/worth-reading.html">Worth Reading</a></li></ul></nav><!-- /navigation --></header><!-- /header --><article role="main"><h1>Multilingual blog with Jekyll 1.5</h1><div class="media"><div class="media__img"><a href="https://twitter.com/share" class="twitter-share-button" data-text="Multilingual blog with Jekyll 1.5 |" data-via="nicoespeon">Tweeter</a></div><div class="media__body brand-face zeta">(05 April, 2014)</div></div><p class="islet">What changed with Jekyll v1.5.1 if you want to build a multilingual blog.</p><h2 id="span-classicon-infospan-note-on-compatibility"><span class="icon-info"></span> Note on compatibility</h2><p>This post considers you’re using Jekyll <code>v1.5.1</code>.</p><p>It’s an extension to <a href="/en/2013/04/building-a-multinlingual-jekyll-blog/">my previous post from April 2013</a> in which I explained how I managed to build this English-French blog. There have been a bunch of new versions of Jekyll since. I’ll explain here how to change the previous implementation accordingly.</p><h2 id="few-reminders-about-jekyll">Few reminders about Jekyll</h2><p>After almost one year using it - even though I didn’t write that much post these months - here is what I could take from Jekyll:</p><ul><li>this is the simplest solution to build a front-end website with the ease of compilation (templates, plugins, etc.). The fact that GitHub takes in charge the compilation helps that point of view, for sure</li><li>it takes advantages and inconveniences from Ruby on Rails - the beauty of the language, the nightmare of the version upgrade</li><li>writing posts in Markdown is a no-brainer</li><li>if standard behavior doesn’t fit our needs, we could also override it with our own plugins</li></ul><p>Keep in mind that if you’re using plugins, you should compile the website by yourself before sending the static version to GitHub.</p><h2 id="speaking-franais-ze-retour">Speaking Français, ze retour</h2><p>As a reminder, here is my blog architecture:</p><div class="highlight"><pre><code class="text">.
|-- _data/          # Variables and configuration
|-- _includes/      # Partials included in other files
|-- _layouts/       # Templates of the website
|-- _plugins/       # Plugins to override Jekyll workflow
|-- assets/         # LESS/CSS, JS, images, ...
|-- fr/             # French category
|   |-- _posts/     # French posts
|   |-- index.html  # French html files
|   |-- about.html
|   |-- (...)
|
|-- en/             # English category
|   |-- _posts/     # English posts
|
|-- index.html      # Default html files (EN)
|-- about.html
|-- (...)
|-- _config.yml     # Jekyll configuration file
</code></pre></div><p>Jekyll compile sources and will output them into <code>_site/</code> folder. This version is sent to GitHub.</p><p class="islet"><strong>Note</strong> - I removed from <code>_config.yml</code> language-dependent variables that I can use in my templates..<br /><br />They are now properly isolated into the <code>_data/locales.yml</code> file.</p><p>For sure, upgrading Jekyll from<code>v0.12</code> to <code>v1.5</code> leads to some modifications of the <code>config.yml</code> file in order to remove what was deprecated and add what was necessary.</p><p>Then come plugins…</p><h2 id="span-classicon-giftspan-plugins-what-has-changed-here"><span class="icon-gift"></span> Plugins, what has changed here</h2><h4 id="per-category-pagination">1. Per-category pagination</h4><p>This is THE plugin that needed to be changed as Jekyll pagination workflow changed completely.</p><p>I didn’t find anything convincing enough, so I wrote my own <a href="https://gist.github.com/nicoespeon/9964343">category_pagination.rb</a> plugin.</p><p>Just add it to your <code>_plugins/</code> folder, then configure your <code>config.yml</code> regarding your needs:</p><ul><li><code>paginate_per_category: true</code> if you wish to activate the plugin</li><li><code>default_category: "en"</code> <em>(optional)</em> if you wish the root pagination to be the one of a specific category</li></ul><p>The plugin is pretty straightforward:</p><ol><li>if I want to paginate a category (aka folder),</li><li>pagination will only consider posts from this category,</li><li>I can define a default category for files that are at the root of the project (otherwise I’d paginate everything).</li></ol><p>You can have a look to the <a href="https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/fr/index.html">fr/index.html</a> page.</p><p class="islet"><strong>Note</strong> - This is a first draw that could be used as a simple - and opiniated - per-category pagination. Don't hesitate to suggest improvements =)</p><h4 id="i18n-filter">2. I18n filter</h4><p><a href="https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/_plugins/i18n_filter.rb">i18n_filter.rb</a> customize the treatment of <code>page.date</code> variable, regarding the language.</p><p>I’ve had to add a <a href="https://github.com/nicoespeon/nicoespeon.github.io/blob/develop/_locales/fr.yml">_locales/fr.yml</a> file in order to create the <code>localize</code> function. It works just like the <code>date</code> method, but output the french format for the date.</p><h2 id="et-voil">Et voilà!</h2><p>Nothing has really changed, just few corrections to set and it’s done. If you have any suggestion, remark or issue with that, just drop me a line.</p><p>Plop !</p><div id="disqus_thread" role="complementary"></div></article></div><div class="grid__item three-tenths portable-one-whole"role="complementary"><!-- Lang navigation --><nav role="navigation"><ul class="nav nav--stacked text--center"><li class="current" ><a href="/">English version</a></li><li ><a href="/fr/">Version française</a></li></ul></nav><!-- About --><aside class="text--justify"><p>My name is <span class='brand-face'>Nicolas</span> and I'm a french Consultant at <a href='http://www.octo.com/'>OCTO Technology</a>.</p><p>I <a href='/archive'>write</a> posts about web development and project management. I got <a href='http://www.linkedin.com/profile/view?id=143126897'>LinkedIn</a>, I <a href='https://github.com/nicoespeon/'>code</a> and I <a href='http://twitter.com/nicoespeon'>tweet</a> too.</p><p>I tend to <a href='https://medium.com/@nicoespeon'>post on Medium</a> now, in case you want to keep updated ;-)</p></aside><!-- RSS --><aside><p class="text--center"><a href="http://www.nicoespeon.com/feed.xml"><i class="icon-connection"></i>&nbsp;Stay tuned</a></p></aside><!-- Tweets --><aside class="text--center visuallyhidden--portable"><a class="twitter-timeline" href="https://twitter.com/nicoespeon" data-widget-id="320422386929377280">Tweets de @nicoespeon</a></aside><aside class="visuallyhidden--portable push--top"><h2 class="text--center">Friends</h2><a href="http://iceranking.com">IceRanking.com</a> - (SEO) Cédric Brun, Consultant en Référencement Durable</aside></div></div></div><!-- /container --></div><!-- /main-content --><footer role="contentinfo"><div class="container"><p>&copy; 2017 - <a href="https://twitter.com/nicoespeon">Nicolas (Espeon) Carlo</a><br>The website is built upon <a href='https://github.com/mojombo/jekyll'>Jekyll</a> and <a href='http://inuitcss.com/'>inuit.css</a> from the excellent <a href='https://twitter.com/csswizardry'>@csswizardry</a>. Source code is <a href='https://github.com/nicoespeon/nicoespeon.github.io'>hosted on GitHub</a>.</p></div></footer><!-- jQuery --><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script>$( function () {/*** This JS code is still small so its better to keep it inline.** Only apply if we are beyond the desk CSS breakpoint on load*/if ( $( window ).width() >= 1024 ) {var $timeline = $( "ul#timeline" );/*** Then hide every label description of the timeline*/$timeline.find( "a.timeline__label" ).each( function () {$( this ).find( "p" ).hide();} );/*** And delegate the visibility effect on hover for each label description*/$timeline.on( "mouseenter mouseleave", "a.timeline__label", function () {$( this ).find( "p" ).stop().toggle( "slow" );} );}/*** Append anchor to page subtitles with IDs (used for blog posts).*/$( "h2[id], h3[id]" ).each( function () {var $title = $( this );var $anchor = $( "<a href='#" + $title.attr( "id" ) + "' class='anchor'><i class='icon-link'></i></a>" );$title.append( $anchor );} );} );</script><!-- Twitter API --><script>!function ( d, s, id ) {var js, fjs = d.getElementsByTagName( s )[0];if ( !d.getElementById( id ) ) {js = d.createElement( s );js.id = id;js.src = "//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore( js, fjs );}}( document, "script", "twitter-wjs" );</script><!-- Google Analytics --><script>var _gaq = _gaq || [];_gaq.push( ['_setAccount', 'UA-39957541-2'] );_gaq.push( ['_setDomainName', 'nicoespeon.com'] );_gaq.push( ['_trackPageview'] );(function () {var ga = document.createElement( 'script' );ga.type = 'text/javascript';ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName( 'script' )[0];s.parentNode.insertBefore( ga, s );})();</script><!-- Disqus --><script>var disqus_shortname = 'nicoespeon';var disqus_url = 'http://nicoespeon.com/en/2014/04/multilingual-blog-with-jekyll-1-5/';var title = "Multilingual blog with Jekyll 1.5";(function () {var dsq = document.createElement( 'script' );dsq.type = 'text/javascript';dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName( 'head' )[0] || document.getElementsByTagName( 'body' )[0]).appendChild( dsq );})();</script><noscript>Please enable JavaScript to view the <ahref="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></body></html>