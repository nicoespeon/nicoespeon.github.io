<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, minimum-scale=1.0"><meta name="description" content="A few reminder about event listeners and the event delegation best practices in jQuery."><title>Event delegation in jQuery | @nicoespeon</title><link rel="icon" href="/assets/img/icon.png"><link rel="author" href="https://plus.google.com/u/0/108378377887967941980"><!-- DNS prefetch for external resources --><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//platform.twitter.com"><link rel="dns-prefetch" href="//p.twitter.com"><link rel="dns-prefetch" href="//cdn.api.twitter.com"><link rel="dns-prefetch" href="//google-analytics.com"><link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Snippet|Roboto:300,100,700'><link rel="stylesheet" href="/assets/css/nicoespeon.css" media="screen"><link rel="stylesheet" href="/assets/css/nicoespeon-print.css" media="print"></head><body><div id="site"><div class="container"><div class="grid"><div class="grid__item seven-tenths portable-one-whole" role="main"><header class="media" role="banner"><!-- Brand logo --><img src="http://www.gravatar.com/avatar/46978c87c5c75cea5d05a61fa8b7d95b" class="media__img img--circle" alt="My avatar" width="80" height="80" /><!-- Main navigation --><nav class="media__body" role="navigation"><ul class="nav nav--main"><li><a href="/index.html">Home</a></li><li><a href="/about.html">About</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/worth-reading.html">Worth Reading</a></li></ul></nav><!-- /navigation --></header><!-- /header --><article role="main"><h1>Event delegation in jQuery</h1><div class="media"><a href="https://twitter.com/share" class="twitter-share-button media__img--rev" data-text="Event delegation in jQuery |" data-via="nicoespeon">Tweeter</a><div class="media__body brand-face zeta">(13 May, 2013)</div></div><p class="islet">A few reminder about event listeners and the event delegation best practices in jQuery.</p><h2 id='tldr'>TL;DR</h2><p>Before <strong>jQuery 1.7</strong> we used to distinguish <code>$.fn.bind</code> from <code>$.fn.live</code> and <code>$.fn.delegate</code> to create events listeners.</p><p><code>$.fn.bind</code> is the most basic one which attach an event listener to an object, usually a DOM node.</p><p><code>$.fn.live</code> is more powerful as it attach the event listener at the document root and makes the behavior <em>live</em> in every corresponding element of the DOM, even if they are created later.</p><p><code>$.fn.delegate</code> behaves almost the same as <code>$.fn.live</code>, but you specify a DOM node where to attach your <em>live</em> listener, which is much more faster.</p><p><code>$.fn.delegate</code> is more efficient than <code>$.fn.live</code> which is more efficient than <code>$.fn.bind</code>.</p><p>Since <strong>jQuery 1.7</strong>, all of these methods have been replaced by the <code>$.fn.on</code> method. Performance principles still the same, but the syntax changes.</p><h2 id='never_gonna__you_up'>Never gonna <code>bind</code> you up</h2><p>The most basic method to attach an event listener to a jQuery object. It&#8217;s commonly used on DOM elements to create some interaction with the user:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Basic use of $.fn.bind</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;div#main-content&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;click&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
</code></pre></div><p>Your object is now listening at the event named <code>&#39;click&#39;</code> and will do something everytime this event is triggered. With the previous code, for instance, the functon defined will be triggered everytime you click on the <code>#main-content</code> element.</p><p><code>&#39;click&#39;</code> is one of the usual events name which has a shorthand method which is equivalent:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Equivalent of the previous code</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;div#main-content&#39;</span><span class='p'>).</span><span class='nx'>click</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
</code></pre></div><p>However, you can pass any event name you may have specify within your code. In fact, this is the key start for <a href='http://en.wikipedia.org/wiki/Event-driven_programming'>event-driven programming</a> in JS, which helps to create advanced web-applications.</p><div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#foo&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;my-event&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#foo&#39;</span><span class='p'>).</span><span class='nx'>trigger</span><span class='p'>(</span><span class='s1'>&#39;my-event&#39;</span><span class='p'>);</span>  <span class='c1'>// Will trigger the binded event</span>
</code></pre></div><p class='islet'>The method to stop such an event listener is <code>$.fn.unbind</code>.</p><p>Until <strong>jQuery 1.7</strong>, this was the most basic way to do things.</p><h2 id='born_to_be_a_'>Born to be a <code>live</code></h2><p>Although <code>$.fn.bind</code> principle is very nice, the method is very limited. It basically has two downsides:</p><ol><li><p>It attaches an event listener for every single element which matches the selector, which is not the most efficient solution when you target more than one element</p></li><li><p>It attaches an event listener only for elements which matches the selector at this time, if you modify the DOM and want to create the same elements, you&#8217;ll need to bind events again.</p></li></ol><div class='highlight'><pre><code class='javascript'><span class='c1'>// This sucks...</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;a.tooltip&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;click&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
<span class='c1'>// or $(&#39;a.tooltip&#39;).click(function() { ... });</span>
</code></pre></div><p>The solution found before <strong>jQuery 1.7</strong> was the <code>$.fn.live</code> method:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Basic use of $.fn.live</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;li.text-info&#39;</span><span class='p'>).</span><span class='nx'>live</span><span class='p'>(</span><span class='s1'>&#39;hover&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
</code></pre></div><p>Instead of attaching an event listener to every single element, it attaches just one at the <em>document root</em> level. Doing so, any new element which matches the selector will behave the same. Futhermore, it&#8217;s <strong>much more efficient</strong> if you speak about performance.</p><p class='islet'>The method to stop such an event listener is <code>$.fn.die</code>.</p><p>The method is deprecated since <strong>jQuery 1.7</strong>, but the principle still the same, which is good to keep in mind.</p><h2 id='learn_to_'>Learn to <code>delegate</code></h2><p>The <code>$.fn.delegate</code> method is basically the same than the <code>$.fn.live</code>, coming with the same advantages over <code>$.fn.bind</code>:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Basic use of $.fn.delegate</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;ul#main-navigation&#39;</span><span class='p'>).</span><span class='nx'>delegate</span><span class='p'>(</span><span class='s1'>&#39;li.text-info&#39;</span><span class='p'>,</span> <span class='s1'>&#39;hover&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
</code></pre></div><p>The point is that, instead of attaching every event listener to the <em>document root</em>, you specify a DOM element where you want to focus. Doing so <strong>increase significantly performance</strong> as it&#8217;s much more specific!</p><p class='islet'>The method to stop such an event listener is <code>$.fn.undelegate</code>.</p><h2 id='turn_me_'>Turn me <code>on</code></h2><p>Since <strong>jQuery 1.7</strong>, all of the previous methods have been merged into one single, powerful method: <code>$.fn.on</code>.</p><p>Now you&#8217;ve understood the previous ones, let see what are the equivalent syntaxes with the single new method:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Basic use of $.fn.on instead of $.fn.bind</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;div#main-content&#39;</span><span class='p'>).</span><span class='nx'>on</span><span class='p'>(</span><span class='s1'>&#39;click&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>

<span class='c1'>// Basic use of $.fn.on instead of $.fn.live</span>
<span class='nx'>$</span><span class='p'>(</span><span class='nb'>document</span><span class='p'>).</span><span class='nx'>on</span><span class='p'>(</span><span class='s1'>&#39;hover&#39;</span><span class='p'>,</span> <span class='s1'>&#39;li.text-info&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>

<span class='c1'>// Basic use of $.fn.on instead of $.fn.delegate</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;ul#main-nav&#39;</span><span class='p'>).</span><span class='nx'>on</span><span class='p'>(</span><span class='s1'>&#39;hover&#39;</span><span class='p'>,</span> <span class='s1'>&#39;li.text-info&#39;</span><span class='p'>,</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span> <span class='p'>...</span> <span class='p'>});</span>
</code></pre></div><p>The distinction between <code>$.fn.live</code> and <code>$.fn.delegate</code> is more clear with that single method, and the emphasis on a powerful delegation makes sense (excepted if you explicitly want to attach your listener to the root of the document, which is rare).</p><p>You can either pass <strong>event data</strong> through the method:</p><div class='highlight'><pre><code class='javascript'><span class='c1'>// Give some data to the event</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s2'>&quot;a&quot;</span><span class='p'>).</span><span class='nx'>each</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>i</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>on</span><span class='p'>(</span><span class='s1'>&#39;click&#39;</span><span class='p'>,</span> <span class='p'>{</span><span class='nx'>index</span><span class='o'>:</span><span class='nx'>i</span><span class='p'>},</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>e</span><span class='p'>)</span> <span class='p'>{</span>
        <span class='nx'>alert</span><span class='p'>(</span><span class='s1'>&#39;My index is &#39;</span> <span class='o'>+</span> <span class='nx'>e</span><span class='p'>.</span><span class='nx'>data</span><span class='p'>.</span><span class='nx'>index</span><span class='p'>);</span>
    <span class='p'>});</span>
<span class='p'>});</span>
</code></pre></div><p>The use of <code>$.fn.on</code> is pretty straightforward which makes event handling dead easy with jQuery!</p><p class='islet'>The method to stop such an event listener is... <code>$.fn.off</code>.</p><h2 id='what_about_performance'>What about performance?</h2><p>As explained, here are the list of methods from the most efficient to the less one:</p><ol><li><code>.on(events, selector, [data,] handler)</code> equivalent to <code>$.fn.delegate</code></li><li><code>$(document).on(events, selector, [data,] handler)</code> equivalent to <code>$.fn.live</code></li><li><code>.on(events, [data,] handler)</code> equivalent to <code>$.fn.bind</code></li></ol><p>In a nutshell:</p><ul><li>If you need to attach an event listener to more than one element, use <code>.on(events, selector, [data,] handler)</code></li><li>If don&#8217;t have any anchor to focus on, use <code>$(document).on(events, selector, [data,] handler)</code></li><li>Otherwise, use <code>.on(events, [data,] handler)</code>, or the shorthand function if exists</li></ul><h2 id='conclusion'>Conclusion</h2><p>This was a short and friendly reminder about event delegation in jQuery.</p><p>No hot news but such a big deal in this article. That was a point worth noting you could also find easily, doing some researches through the Internet.</p><p>I realized very few time ago that I always used shorthand functions, dealing with a bunch of DOM elements sometimes, when I could have used more efficient methods. <strong>When you&#8217;ve to deal with more than one element, think about the <code>$.fn.on</code> method!</strong></p><p>I hope this have you learn something or refresh your mind on that point. If so, don&#8217;t hesitate to leave me comment below ;-)</p><p>Plop!</p><div id="disqus_thread" role="complementary"></div></article></div><div class="grid__item three-tenths portable-one-whole" role="complementary"><!-- Lang navigation --><nav role="navigation"><ul class="nav nav--stacked text--center"><li class="current"><a href="/">English version</a></li><li ><a href="/fr/">Version française</a></li></ul></nav><!-- About --><aside class="text--justify"><p>My name is <span class='brand-face'>Nicolas</span> and I'm a french IT business student, doing some freelance web development aside.</p><p>I <a href='/archive'>write</a> posts about web development and project management. I got <a href='http://www.linkedin.com/profile/view?id=143126897'>LinkedIn</a>, I <a href='https://delicious.com/nicoespeon'>tag</a> and I <a href='http://twitter.com/nicoespeon'>tweet</a> too.</p></aside><!-- RSS --><aside><p class="text--center"><a href="http://nicoespeon.com/feed.xml"><i class="icon-connection"></i>&nbsp;Stay tuned</a></p></aside><!-- Tweets --><aside class="text--center visuallyhidden--portable"><a class="twitter-timeline" href="https://twitter.com/nicoespeon" data-widget-id="320422386929377280">Tweets de @nicoespeon</a></aside></div></div></div><!-- /container --></div><!-- /main-content --><footer role="contentinfo"><div class="container"><p>&copy; 2013 - <a href="https://twitter.com/nicoespeon">Nicolas (Espeon) Carlo</a><br>The website is built upon <a href='https://github.com/mojombo/jekyll'>Jekyll</a> and <a href='http://inuitcss.com/'>inuit.css</a> from the excellent <a href='https://twitter.com/csswizardry'>@csswizardry</a>. Source code is <a href='https://github.com/nicoespeon/nicoespeon.github.io'>hosted on GitHub</a>.</p></div></footer><!-- Twitter API --><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script><!-- Google Analytics --><script>var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-39957541-2']);_gaq.push(['_setDomainName', 'nicoespeon.com']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script><!-- Disqus<script>var disqus_shortname = 'nicoespeon';var disqus_url = 'http://nicoespeon.com/en/2013/05/event-delegation-jquery';var title = "Event delegation in jQuery";(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> --></body></html>